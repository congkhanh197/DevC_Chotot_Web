import React, { Component } from "react";

import GoogleMapReact from "google-map-react";

const API_KEY = "AIzaSyDBunJ4GXNEC3KJlpoGJO-iB--CjPv4o-s";

const data_new = require('../data/data.json')

const AnyReactComponent = ({ text }) => <div>{text}</div>;

class Map extends Component {
  static defaultProps = {
    center: {
      lat: 10.8014539,
      lng: 106.6391456
    },
    zoom: 12
  };
  handleApiLoaded = props => {
    const { map, maps, ref } = props;
    const data = {
      type: "FeatureCollection",
      features: [
        {
          type: "Feature",
          properties: {
            fillColor: "blue"
          },
          geometry: {
            type: "Polygon",
            coordinates: [
              [
                [106.70377275824437, 10.76980424229337],
                [106.70378341354078, 10.769782214549089],
                [106.70379870701882, 10.769750597086931],
                [106.70381123560728, 10.769757889294326],
                [106.70381123633804, 10.769757889719893],
                [106.70381123652156, 10.769757889291512],
                [106.70390811214696, 10.769531743111994],
                [106.70390845453174, 10.76953094080725],
                [106.70397308255153, 10.769379500138287],
                [106.70398085901205, 10.76936192001685],
                [106.70398090013852, 10.769361827044216],
                [106.70398393312676, 10.769354746148295],
                [106.70403205871484, 10.769242397534],
                [106.7040034506023, 10.769171988429562],
                [106.7040034494196, 10.769171987771744],
                [106.70399041813624, 10.769164740510242],
                [106.70399566891963, 10.769152840022056],
                [106.7039956691955, 10.769152839396924],
                [106.70399564404352, 10.769152779528826],
                [106.70399340313023, 10.769147261014007],
                [106.70399339207923, 10.769147235735263],
                [106.70398226494461, 10.76914250394432],
                [106.70369730632869, 10.769022173226148],
                [106.70349256175521, 10.768934346638869],
                [106.70349089618301, 10.768935009892228],
                [106.7034908950759, 10.768935010333145],
                [106.70348423384017, 10.768950144801266],
                [106.70346938802327, 10.768943575691772],
                [106.70339702147155, 10.768972398007168],
                [106.70317997628126, 10.769481533322853],
                [106.70316752859028, 10.769530374982708],
                [106.70316752914954, 10.769530376372986],
                [106.70319657457371, 10.76960261078567],
                [106.70322599841339, 10.769626534250218],
                [106.70322600039057, 10.769626535111625],
                [106.70338385100695, 10.769695305423806],
                [106.70347810955491, 10.769735401137538],
                [106.70354091798202, 10.769763733625432],
                [106.70354097647035, 10.76976376000941],
                [106.7036685335588, 10.769819331880244],
                [106.70366853380328, 10.769819331083978],
                [106.70367370421643, 10.76980251113464],
                [106.70372030393636, 10.769822346774935],
                [106.70374038024946, 10.769816938603066],
                [106.70374038762323, 10.769816936616818],
                [106.70377275749163, 10.769804243849363],
                [106.70377275824437, 10.76980424229337]
              ]
            ]
          }
        },
        {
          type: "Feature",
          properties: {
            fillColor: "red"
          },
          geometry: {
            type: "MultiPolygon",
            coordinates: [
              [
                [
                  [106.70377275824437, 10.76980424229337],
                  [106.70378341354078, 10.769782214549089],
                  [106.70379870701882, 10.769750597086931],
                  [106.70381123560728, 10.769757889294326],
                  [106.70381123633804, 10.769757889719893],
                  [106.70381123652156, 10.769757889291512],
                  [106.70390811214696, 10.769531743111994],
                  [106.70390845453174, 10.76953094080725],
                  [106.70397308255153, 10.769379500138287],
                  [106.70398085901205, 10.76936192001685],
                  [106.70398090013852, 10.769361827044216],
                  [106.70398393312676, 10.769354746148295],
                  [106.70403205871484, 10.769242397534],
                  [106.7040034506023, 10.769171988429562],
                  [106.7040034494196, 10.769171987771744],
                  [106.70399041813624, 10.769164740510242],
                  [106.70399566891963, 10.769152840022056],
                  [106.7039956691955, 10.769152839396924],
                  [106.70399564404352, 10.769152779528826],
                  [106.70399340313023, 10.769147261014007],
                  [106.70399339207923, 10.769147235735263],
                  [106.70398226494461, 10.76914250394432],
                  [106.70369730632869, 10.769022173226148],
                  [106.70349256175521, 10.768934346638869],
                  [106.70349089618301, 10.768935009892228],
                  [106.7034908950759, 10.768935010333145],
                  [106.70348423384017, 10.768950144801266],
                  [106.70346938802327, 10.768943575691772],
                  [106.70339702147155, 10.768972398007168],
                  [106.70317997628126, 10.769481533322853],
                  [106.70316752859028, 10.769530374982708],
                  [106.70316752914954, 10.769530376372986],
                  [106.70319657457371, 10.76960261078567],
                  [106.70322599841339, 10.769626534250218],
                  [106.70322600039057, 10.769626535111625],
                  [106.70338385100695, 10.769695305423806],
                  [106.70347810955491, 10.769735401137538],
                  [106.70354091798202, 10.769763733625432],
                  [106.70354097647035, 10.76976376000941],
                  [106.7036685335588, 10.769819331880244],
                  [106.70366853380328, 10.769819331083978],
                  [106.70367370421643, 10.76980251113464],
                  [106.70372030393636, 10.769822346774935],
                  [106.70374038024946, 10.769816938603066],
                  [106.70374038762323, 10.769816936616818],
                  [106.70377275749163, 10.769804243849363],
                  [106.70377275824437, 10.76980424229337]
                ]
              ]
            ]
          }
        }
      ]
    };

    console.log(map, maps);
    map.data.addGeoJson(data);
    map.data.setStyle(function(feature) {
      var color = feature.getProperty("fillColor");
      return {
        fillColor: color,
        strokeWeight: 1
      };
    });

    // use map and maps objects
  };
  componentDidMount() {}

  render() {
    console.log(JSON.parse(data_new.data[0].QHPK))
    return (
      <GoogleMapReact
        style={{ height: "94vh" }}
        bootstrapURLKeys={{ key: API_KEY, language: "vn" }}
        defaultCenter={this.props.center}
        defaultZoom={this.props.zoom}
        yesIWantToUseGoogleMapApiInternals
        onGoogleApiLoaded={props => this.handleApiLoaded(props)}
      >
        <AnyReactComponent
          lat={10.8014539}
          lng={106.6391456}
          text="My Marker"
        />
      </GoogleMapReact>
    );
  }
}

export default Map;
